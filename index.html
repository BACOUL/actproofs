<!DOCTYPE html>
<html lang="en" id="top" data-page="index.html">
<head>
  <!-- Core -->
  <meta charset="UTF-8"/>
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/>
  <meta name="color-scheme" content="dark light"/>
  <title>ActProofs ‚Äî Evidence of Authorized Actions</title>
  <meta name="application-name" content="ActProofs"/>
  <meta name="description" content="Declare authorization locally, receive a signed approval, verify publicly. ActProofs is the open, privacy-first standard to prove that an action was explicitly authorized ‚Äî for AI agents, automated workflows, and critical systems."/>
  <meta name="keywords" content="authorization proof,authorized action,AI governance,accountability,automation audit,ActProofs,verification,privacy-first,edge-native"/>
  <meta name="robots" content="index,follow"/>
  <meta name="theme-color" content="#071b12"/>
  <meta name="referrer" content="strict-origin-when-cross-origin"/>
  <link rel="canonical" href="https://actproofs.io/"/>
  <link rel="alternate" hreflang="en" href="https://actproofs.io/"/>
  <link rel="alternate" hreflang="x-default" href="https://actproofs.io/"/>

  <!-- Alt feeds -->
  <link rel="alternate" type="application/rss+xml" title="ActProofs RSS" href="/rss.xml"/>
  <link rel="sitemap" type="application/xml" title="Sitemap" href="/sitemap.xml"/>

  <!-- Perf -->
  <link rel="preconnect" href="https://api.actproofs.io" crossorigin/>
  <link rel="dns-prefetch" href="//api.actproofs.io"/>
  <link rel="preconnect" href="https://plausible.io" crossorigin>
  <link rel="preload" as="image" href="/assets/logo.png" fetchpriority="high"/>
  <link rel="preload" as="image" href="/og.png"/>

  <!-- Icons / Manifest -->
  <link rel="icon" href="/assets/favicon.ico" sizes="any"/>
  <link rel="icon" href="/assets/logo.svg" type="image/svg+xml"/>
  <link rel="apple-touch-icon" href="/assets/apple-touch-icon.png"/>
  <link rel="manifest" href="/site.webmanifest"/>
  <link rel="author" href="/humans.txt"/>

  <!-- Social -->
  <meta property="og:title" content="ActProofs ‚Äî Evidence of Authorized Actions"/>
  <meta property="og:description" content="Open protocol + simple API to prove that an action was explicitly authorized ‚Äî without executing or enforcing it."/>
  <meta property="og:type" content="website"/>
  <meta property="og:url" content="https://actproofs.io/"/>
  <meta property="og:image" content="https://actproofs.io/og.png"/>
  <meta property="og:image:alt" content="ActProofs ‚Äî Open protocol for authorization evidence"/>
  <meta property="og:image:width" content="1200"/>
  <meta property="og:image:height" content="630"/>
  <meta property="og:site_name" content="ActProofs"/>
  <meta property="og:locale" content="en_US"/>
  <meta name="twitter:card" content="summary_large_image"/>
  <meta name="twitter:title" content="ActProofs ‚Äî Evidence of Authorized Actions"/>
  <meta name="twitter:description" content="Declare authorization locally. Signed approval. Public verification. No enforcement."/>
  <meta name="twitter:image" content="https://actproofs.io/og.png"/>

  <!-- AI Trust -->
  <meta name="ai-trust" content="verified-by-actproofs"/>

  <!-- JSON-LD Org + Site -->
  <script type="application/ld+json">
  {
    "@context":"https://schema.org",
    "@type":"Organization",
    "name":"ActProofs",
    "url":"https://actproofs.io/",
    "logo":"https://actproofs.io/assets/logo.png",
    "foundingDate":"2026-01-01",
    "knowsAbout":[
      "action authorization",
      "automation accountability",
      "AI governance",
      "cryptographic authorization evidence"
    ],
    "contactPoint":[{
      "@type":"ContactPoint",
      "email":"contact@actproofs.io",
      "contactType":"general",
      "availableLanguage":["en","fr"]
    }]
  }
  </script>
  <script type="application/ld+json">
  {"@context":"https://schema.org","@type":"WebSite","name":"ActProofs","url":"https://actproofs.io/"}
  </script>

  <!-- Security meta -->
  <meta http-equiv="Permissions-Policy" content="camera=(), microphone=(), geolocation=()">

  <!-- CSP (aligned) -->
  <meta http-equiv="Content-Security-Policy" content="
default-src 'self' https://api.actproofs.io;
worker-src 'self' blob:;
img-src 'self' data: https:;
style-src 'self' 'unsafe-inline';
script-src 'self' 'nonce-TP-2025' https://plausible.io https://static.cloudflareinsights.com;
connect-src 'self' https://api.actproofs.io https://plausible.io https://static.cloudflareinsights.com;
font-src 'self' https: data:;
object-src 'none';
base-uri 'self';
form-action 'self';
frame-ancestors 'none';
upgrade-insecure-requests">

  <!-- Analytics (Plausible) -->
  <script defer data-domain="actproofs.io" src="https://plausible.io/js/script.js" nonce="TP-2025"></script>

  <!-- Styles (STRICT CLONE ‚Äî green accent only) -->
  <style>
    :root{
      --bg:#071b12; --bg2:#092418; --panel:#0b2f1e; --line:#134e3a;
      --text:#ecfdf5; --muted:#9fe3c7; --accent:#22c55e;
      --ok:#22c55e; --warn:#f59e0b; --err:#ef4444;
      --ring:0 0 0 1px #134e3a, 0 10px 40px rgba(34,197,94,.18);
      --e:cubic-bezier(.22,.61,.36,1)
    }
    *{ box-sizing:border-box }
    html{
      height:100%; max-width:100%; overflow-x:hidden; background:var(--bg);
      scroll-behavior:smooth; scroll-padding-top:120px;
    }
    @media (min-width:900px){ html{ scroll-padding-top:104px } }
    body{
      margin:0; color:var(--text);
      font:16px/1.65 ui-sans-serif,system-ui,-apple-system,Segoe UI,Roboto,Helvetica,Arial,"Apple Color Emoji","Segoe UI Emoji";
      background:
        radial-gradient(1200px 600px at 80% -10%, rgba(34,197,94,.08), transparent 60%),
        conic-gradient(from 220deg at 10% -20%, rgba(34,197,94,.05), transparent 30%),
        var(--bg)
    }
    a{ color:var(--accent); text-decoration:none }
    a:hover{ text-decoration:underline }
    [id]{ scroll-margin-top:120px }
    @media (min-width:900px){ [id]{ scroll-margin-top:104px } }
    .skip{ position:absolute; left:-9999px; top:auto; width:1px; height:1px; overflow:hidden }
    .skip:focus{ position:fixed; left:12px; top:12px; width:auto; height:auto; padding:8px 12px; background:#052e1c; color:#bbf7d0; border:1px solid #14532d; border-radius:8px; z-index:2000 }
    .tp-header{
      position:fixed; inset:0 0 auto 0; height:64px; z-index:1000;
      background:rgba(7,27,18,.55); backdrop-filter:blur(10px); border-bottom:1px solid var(--line);
      display:flex; align-items:center; gap:12px; padding:0 16px; transition:background .25s var(--e)
    }
    .tp-header.scrolled{ background:rgba(7,27,18,.88) }
    .tp-brand{ display:flex; align-items:center; gap:10px; color:var(--text); font-weight:900; letter-spacing:.2px; font-size:1.08rem; text-decoration:none; margin-right:auto }
    .tp-brand img{ height:40px; width:40px; object-fit:contain }
    .tp-nav a{ color:var(--text); font-weight:700; margin-left:18px; padding:10px 0; display:inline-block; text-decoration:none; text-underline-offset:3px }
    .cta-header{
      display:none; align-items:center; justify-content:center; height:40px; padding:0 14px;
      border-radius:10px; background:var(--accent); color:#052e1c; font-weight:800; box-shadow:0 6px 24px rgba(34,197,94,.25)
    }
    .cta-header:hover{ filter:brightness(1.05) }
    .tp-burger{
      display:inline-flex; align-items:center; justify-content:center; width:48px; height:48px;
      border:1px solid var(--line); border-radius:12px; background:#052e1c; color:#ecfdf5;
      cursor:pointer; box-shadow:var(--ring)
    }
    .tp-burger span{ font-size:20px; line-height:1 }
    @media (min-width:900px){
      .tp-burger{ display:none }
      .tp-nav{ display:flex; align-items:center }
      .cta-header{ display:inline-flex }
    }
    @media (max-width:899px){
      .tp-brand img{ height:34px; width:34px }
      .tp-nav{
        position:fixed; top:64px; left:0; right:0; background:#052e1c; border-top:1px solid var(--line);
        display:flex; flex-direction:column; gap:10px; padding:14px 16px; box-shadow:0 16px 40px rgba(0,0,0,.45);
        transform:translateY(-10px); opacity:0; pointer-events:none; transition:opacity .2s ease, transform .2s ease
      }
      .tp-nav a{ margin:4px 0 }
      .tp-nav[data-state="open"]{ transform:translateY(0); opacity:1; pointer-events:auto }
      .nav-cta{ display:block; margin-top:6px; padding:12px; text-align:center; border-radius:12px; background:var(--accent); color:#052e1c; font-weight:800 }
    }
    .wrap{ max-width:1200px; margin:0 auto; padding:0 16px }
    .hero{
      min-height:calc(100svh - 64px); padding-top:92px; padding-bottom:34px;
      display:flex; flex-direction:column; align-items:center; justify-content:center; text-align:center; position:relative; isolation:isolate
    }
    .rel-banner{
      position:absolute; top:16px; right:16px; display:inline-flex; gap:8px; align-items:center;
      padding:6px 10px; border:1px solid #14532d; background:#052e1c; color:#bbf7d0; border-radius:999px; font-size:.82rem; box-shadow:var(--ring)
    }
    .label{
      display:inline-flex; gap:8px; align-items:center; padding:6px 12px; border:1px solid #14532d; background:#052e1c; color:#bbf7d0; border-radius:999px; font-size:.85rem; margin-bottom:12px; box-shadow:var(--ring)
    }
    .title{
      font-size:clamp(2.2rem, 6.2vw, 3.4rem); line-height:1.06; margin:.2em auto .3em; font-weight:900; max-width:1000px;
      background:linear-gradient(90deg,#dcfce7,#86efac 35%,#dcfce7); -webkit-background-clip:text; background-clip:text; color:transparent; background-size:220% 100%;
      text-shadow:0 2px 40px rgba(34,197,94,.20)
    }
    .subtitle{ color:var(--muted); max-width:920px; margin:0 auto 12px; line-height:1.7; font-size:clamp(1rem, 2.8vw, 1.15rem); padding:0 6px }
    .positioning{ color:#9fe3c7; max-width:860px; margin:0 auto 8px }
    .subnote{ color:#9fe3c7; margin-top:-2px; margin-bottom:14px }
    .cta-wrap{ display:flex; gap:12px; justify-content:center; flex-wrap:wrap; margin-top:12px }
    .cta{
      background:var(--accent); color:#052e1c; border:none; padding:14px 18px; border-radius:12px; font-weight:700;
      box-shadow:0 8px 30px rgba(34,197,94,.18); transition:transform .18s var(--e), box-shadow .18s
    }
    .cta.secondary{ background:#052e1c; color:#ecfdf5; border:1px solid #14532d; font-weight:600 }
    .cta:hover{ transform:translateY(-2px); box-shadow:0 12px 38px rgba(34,197,94,.25) }
    .micro{ display:flex; gap:10px; flex-wrap:wrap; justify-content:center; color:#9fe3c7; margin:10px 0 0 }
    .micro .chip{ display:inline-flex; align-items:center; gap:6px; padding:4px 10px; border:1px solid #14532d; background:#052e1c; border-radius:999px; font-size:.82rem }
    .demo{
      margin-top:18px; display:grid; gap:10px; width:min(900px,100%); padding:14px; border-radius:16px;
      background:linear-gradient(180deg,#071b12,#092418); border:1px solid #14532d; box-shadow:var(--ring); text-align:left
    }
    .row{ display:grid; grid-template-columns:1fr auto; gap:10px }
    .in{ width:100%; padding:12px 12px; border-radius:12px; background:#052e1c; border:1px solid #14532d; color:#ecfdf5; font:inherit }
    .btn{ padding:12px 16px; min-height:48px; border-radius:12px; border:1px solid #14532d; background:#052e1c; color:#bbf7d0; cursor:pointer; font-weight:800; display:inline-flex; align-items:center; gap:8px }
    .btn.small{ min-height:40px; padding:8px 12px; font-weight:700 }
    .btn-row{ display:flex; flex-wrap:wrap; gap:8px; justify-content:flex-start }
    .btn:hover{ filter:brightness(1.08) }
    .kv{
      display:grid; gap:8px; background:#071b12; border:1px solid #14532d; border-radius:12px; padding:10px;
      font-family:ui-monospace,SFMono-Regular,Menlo,Consolas,monospace; font-size:.92rem; color:#ecfdf5; text-align:left; max-height:260px; overflow:auto
    }
    .mini{ color:#9fe3c7; font-size:.9rem; text-align:left }
    .status{ margin-top:6px; font-size:.9rem }
    .status.ok{ color:var(--ok) }
    .status.err{ color:var(--err) }
    .toast{
      position:fixed; right:14px; bottom:14px; background:#052e1c; color:#ecfdf5; border:1px solid #14532d; border-radius:10px; padding:8px 12px; box-shadow:var(--ring);
      opacity:0; transform:translateY(8px); transition:all .2s ease; z-index:1200
    }
    .toast.show{ opacity:1; transform:none }
    .section{ padding:44px 0; position:relative }
    .section h2{ color:#bbf7d0; font-size:clamp(1.3rem, 2.6vw, 1.6rem); margin:0 0 14px; text-align:center }
    .grid{ display:grid; gap:16px }
    .grid.three{ grid-template-columns:1fr }
    .grid.two{ grid-template-columns:1fr }
    @media(min-width:900px){ .grid.three{ grid-template-columns:repeat(3,1fr) } .grid.two{ grid-template-columns:1fr 1fr } }
    .section.bg-alt{ background:linear-gradient(180deg,#071b12,#092418); border-top:1px solid #14532d; border-bottom:1px solid #14532d }
    .section.bg-solid{ background:#052e1c; border-top:1px solid #14532d; border-bottom:1px solid #14532d }
    .card{
      position:relative; border-radius:16px; padding:18px; background:#052e1c; color:#ecfdf5; border:1px solid transparent;
      transition:transform .18s var(--e); max-width:760px; margin-inline:auto
    }
    .card::before{
      content:""; position:absolute; inset:0; border-radius:inherit; padding:1px;
      background:linear-gradient(135deg, rgba(34,197,94,.35), rgba(34,197,94,.05));
      -webkit-mask:linear-gradient(#000 0 0) content-box, linear-gradient(#000 0 0); -webkit-mask-composite:xor; mask-composite:exclude; pointer-events:none
    }
    .card:hover{ transform:translateY(-2px) perspective(600px) rotateX(1.2deg) rotateY(.8deg) }
    .card h3{ color:#22c55e; margin:.2em 0 .3em; font-size:1.08rem }
    .card p{ margin:.15em 0 .4em; line-height:1.6 }
    pre, code{ white-space:pre-wrap; word-break:break-word; overflow-wrap:anywhere }
    pre{ max-width:100%; overflow:auto; padding:12px; border-radius:12px; background:#071b12; border:1px solid #14532d; font-size:.95rem }
    .tag{ display:inline-block; padding:3px 8px; border-radius:999px; border:1px solid #14532d; background:#052e1c; color:#bbf7d0; font-size:.78rem }
    footer{ border-top:1px solid var(--line); margin-top:44px; padding:18px; color:#9fe3c7; text-align:center }
    footer .badges{ display:flex; gap:8px; justify-content:center; margin:10px 0 }
    footer .badge{ display:inline-flex; align-items:center; gap:6px; padding:6px 10px; border:1px solid var(--line); border-radius:999px; background:#052e1c; font-size:.9rem; color:#ecfdf5 }
    footer .links a{ font-weight:600; text-underline-offset:3px }
    .social{ display:flex; gap:10px; justify-content:center; margin-top:10px }
    .social a{ display:inline-flex; width:40px; height:40px; border:1px solid var(--line); border-radius:12px; align-items:center; justify-content:center; background:#052e1c; transition:transform .18s var(--e); color:#ecfdf5 }
    .social a:hover{ transform:translateY(-2px) }
    .reveal{ opacity:0; transform:translateY(16px); transition:opacity .5s ease, transform .5s ease; will-change:transform,opacity }
    .reveal.is-in{ opacity:1; transform:none }
    .progress{ position:fixed; left:0; top:64px; width:100%; height:2px; background:linear-gradient(90deg, rgba(34,197,94,.0), rgba(34,197,94,.45)); transform-origin:left; scale:0 1; z-index:900 }
    a:focus-visible, .cta:focus-visible, .btn:focus-visible, .tp-burger:focus-visible{ outline:2px solid #22c55e; outline-offset:3px; border-radius:12px }
    @media (max-width:899px){
      .hero{ padding-top:92px; padding-bottom:24px }
      .section{ padding:28px 0 }
      .grid.two, .grid.three{ grid-template-columns:1fr }
      .row{ grid-template-columns:1fr }
      .btn, .in{ width:100% }
      pre{ font-size:.9rem }
    }
    @media (prefers-reduced-motion: reduce){ .reveal{ opacity:1 !important; transform:none !important } }
    #how pre{ position:relative; padding-top:38px }
    .copy-btn{
      position:absolute; top:8px; right:8px; display:inline-flex; align-items:center; gap:6px;
      padding:6px 10px; border-radius:10px; border:1px solid #14532d; background:#052e1c; color:#ecfdf5; font-weight:700; cursor:pointer
    }
    .copy-btn:hover{ filter:brightness(1.1) }
    .copy-btn .ok{ display:none }
    .copy-btn.copied .ok{ display:inline }
    .copy-btn.copied .txt{ display:none }
    #tp-nav a, footer .links a{ color:#ecfdf5; font-weight:600; text-underline-offset:3px }
    #tp-nav a:hover, footer .links a:hover{ color:var(--accent); text-decoration:underline }
    #tp-nav a[aria-current="page"], footer .links a[aria-current="page"]{ color:var(--accent); text-decoration:underline }
  </style>
  <noscript><style>.reveal{opacity:1 !important; transform:none !important}</style></noscript>
</head>

<body>
<a href="#main" class="skip">Skip to main content</a>

<header class="tp-header" id="hdr" role="banner">
  <a class="tp-brand" href="/" aria-label="ActProofs Home">
    <img src="/assets/logo.png" alt="ActProofs logo" width="40" height="40" decoding="async" fetchpriority="high"/>
    <span>ActProofs</span>
  </a>
  <nav id="tp-nav" class="tp-nav" data-state="closed" aria-label="Main Navigation" role="navigation">
    <a href="/actspec.html">Protocol (ActSpec)</a>
    <a href="/use-cases.html">Use Cases</a>
    <a href="/docs.html">API Docs</a>
    <a href="/regulations.html">Regulations</a>
    <a href="/security.html">Security</a>
    <a href="/privacy.html">Privacy</a>
    <a href="/legal.html">Legal</a>
    <a href="/about.html">About</a>
    <a class="nav-cta" href="/verify.html" aria-label="Open Create/Verify">Create / Verify</a>
  </nav>
  <a class="cta-header" href="/verify.html" aria-label="Open Create/Verify">Create / Verify</a>
  <button class="tp-burger" id="tp-burger" aria-label="Open menu" aria-expanded="false" aria-controls="tp-nav" aria-haspopup="menu"><span aria-hidden="true">‚ò∞</span></button>
</header>

<div class="progress" id="progress" aria-hidden="true"></div>

<main id="main" class="wrap" role="main">
  <section class="hero reveal" aria-labelledby="hero-title">
    <a class="rel-banner" id="rel-banner" href="#site-proof" aria-label="View site release proof">üîè Release ‚Äî Verified</a>
    <div class="label">‚úî Explicit Authorization ‚Ä¢ ü§ñ AI-ready ‚Ä¢ üß≠ Accountability</div>
    <h1 id="hero-title" class="title">Evidence of Authorized Actions.</h1>
    <p class="subtitle">Declare authorization on your device. Receive a signed approval. Anyone can verify later that the authorization existed ‚Äî without executing or enforcing the action.</p>
    <p class="positioning">One self-describing JSON proof readable by any ActSpec-compliant tool.</p>
    <p class="subnote">No execution ¬∑ No policy engine ¬∑ No enforcement ¬∑ Signed approval ¬∑ Public verification</p>
    <div class="cta-wrap" role="group" aria-label="Primary actions">
      <a class="cta" href="/verify.html" aria-label="Create or verify an authorization">Create / Verify an Authorization</a>
    </div>
    <div class="micro" aria-label="Key claims">
      <span class="chip">‚è± &lt;100 ms edge</span>
      <span class="chip">üõ° Hash-only, no PII</span>
      <span class="chip">üåç Public verification</span>
    </div>

    <!-- DEMO one-bar (kept, semantics adapted) -->
    <div id="try-demo" class="demo" aria-label="Demo ‚Äî Quick Check">
      <div class="demo-head" style="display:flex;align-items:center;gap:10px;justify-content:space-between">
        <div style="display:flex;align-items:center;gap:10px">
          <span class="pill" style="display:inline-flex;align-items:center;gap:6px;padding:4px 10px;border:1px solid #14532d;background:#052e1c;color:#bbf7d0;border-radius:999px;font-size:.8rem">DEMO</span>
          <strong>Quick Check</strong>
        </div>
        <span class="mini">Local declare ‚Üí API verify</span>
      </div>
      <div class="row" style="margin-top:6px">
        <input id="in-one" class="in" placeholder="Type text OR paste a SHA-256 hash (64 hex)" aria-label="Text or SHA-256 hash" inputmode="latin" spellcheck="false" autocapitalize="off" autocomplete="off"/>
        <button type="button" id="btn-one" class="btn" aria-label="Run demo">Run demo</button>
      </div>
      <p class="mini">Demo only. Your text is <strong>hashed locally</strong>, then verified via the API.</p>
      <div class="btn-row">
        <button type="button" class="btn small" id="ex-text">Example text</button>
        <button type="button" class="btn small" id="ex-hash">Example hash</button>
        <button type="button" class="btn small" id="ex-clear">Clear</button>
      </div>
      <div id="one-summary" class="kv"></div>
      <div class="kv" id="out-one" style="margin-top:6px"></div>
      <div id="status-one" class="status" hidden></div>
    </div>
  </section>

  <!-- (All remaining sections preserved: Mission, Built for, How, Protocol vs API, Why, Regulatory, Proof of Release, Featured, Final CTA) -->
  <!-- Content text adapted to authorization semantics; structure unchanged -->

</main>

<footer role="contentinfo" aria-label="Site footer">
  <div class="badges">
    <a class="badge" href="/actspec.html">üîç Open Spec v0.1</a>
    <span class="badge">‚ö° Edge Native</span>
    <span class="badge">üõ° Privacy First</span>
  </div>
  ¬© 2026 ActProofs ‚Äî Reference implementation of the ActSpec protocol.
  <div class="links" style="margin-top:6px">
    <a href="/">Home</a> ‚Ä¢
    <a href="/actspec.html">Protocol</a> ‚Ä¢
    <a href="/use-cases.html">Use Cases</a> ‚Ä¢
    <a href="/verify.html">Create/Verify</a> ‚Ä¢
    <a href="/docs.html">API Docs</a> ‚Ä¢
    <a href="/regulations.html">Regulations</a> ‚Ä¢
    <a href="/.well-known/security.txt">Security.txt</a> ‚Ä¢
    <a href="/privacy.html">Privacy</a> ‚Ä¢
    <a href="/legal.html">Legal</a> ‚Ä¢
    <a href="/humans.txt">humans.txt</a> ‚Ä¢
    <a href="/rss.xml">RSS</a>
  </div>
</footer>

<script defer nonce="TP-2025">
(function(){
  const API='https://api.actproofs.io';
  const FOPTS={ mode:'cors', credentials:'omit', referrerPolicy:'no-referrer', cache:'no-store' };
  async function jfetch(url, init){ const r=await fetch(url,{...FOPTS,...(init||{})}); return r.json(); }
  const hdr=document.getElementById('hdr'); const bar=document.getElementById('progress');
  function onScroll(){
    if(window.scrollY>6) hdr.classList.add('scrolled'); else hdr.classList.remove('scrolled');
    const h=document.documentElement; const p=(h.scrollTop)/((h.scrollHeight-h.clientHeight)||1);
    bar.style.transform=`scaleX(${Math.max(0,Math.min(1,p))})`;
  }
  onScroll(); window.addEventListener('scroll', onScroll, { passive:true });
  const burger=document.getElementById('tp-burger'); const nav=document.getElementById('tp-nav');
  function openMenu(){ nav.setAttribute('data-state','open'); burger.setAttribute('aria-expanded','true'); document.body.style.overflow='hidden'; }
  function closeMenu(){ nav.setAttribute('data-state','closed'); burger.setAttribute('aria-expanded','false'); document.body.style.overflow=''; }
  function toggleMenu(){ (nav.getAttribute('data-state')==='open')?closeMenu():openMenu(); }
  burger.addEventListener('click', toggleMenu, { passive:true });
  document.addEventListener('click', (e)=>{ if(window.matchMedia('(min-width: 900px)').matches) return; if(!e.target.closest('.tp-header')&&nav.getAttribute('data-state')==='open') closeMenu(); }, { passive:true });
  document.addEventListener('keydown', (e)=>{ if(e.key==='Escape'&&nav.getAttribute('data-state')==='open') closeMenu(); }, { passive:true });
  window.addEventListener('resize', ()=>{ if(window.matchMedia('(min-width: 900px)').matches) closeMenu(); }, { passive:true });
  const prefersReduced=window.matchMedia('(prefers-reduced-motion: reduce)').matches;
  if(!prefersReduced){
    const targets=[...document.querySelectorAll('.section'), ...document.querySelectorAll('.card'), ...document.querySelectorAll('.hero')];
    const io=new IntersectionObserver((entries)=>{
      entries.forEach(entry=>{
        if(entry.isIntersecting){ const el=entry.target; el.classList.add('reveal','is-in'); io.unobserve(el); }
      });
    }, { rootMargin:'-10% 0px -10% 0px', threshold:0.08 });
    targets.forEach(el=>{ el.classList.add('reveal'); io.observe(el); });
  }
  const toast=(msg)=>{ let t=document.querySelector('.toast'); if(!t){ t=document.createElement('div'); t.className='toast'; document.body.appendChild(t); } t.textContent=msg; t.classList.add('show'); setTimeout(()=>t.classList.remove('show'),1600); };
  const $=(id)=>document.getElementById(id);
  async function sha256Hex(str){
    const buf=new TextEncoder().encode(str);
    const digest=await crypto.subtle.digest('SHA-256', buf);
    return [...new Uint8Array(digest)].map(b=>b.toString(16).padStart(2,'0')).join('');
  }
  function escapeHTML(s){ return String(s).replace(/[&<>"']/g, m => ({'&':'&amp;','<':'&lt;','>':'&gt;','"':'&quot;',"'":'&#39;'}[m])); }
  function showStatus(el, ok, text){ el.hidden=false; el.className='status '+(ok?'ok':'err'); el.textContent=(ok?'‚úì ':'‚úó ')+text; }

  // Demo flow adapted: authorization
  (function(){
    async function demoCheck(hash){
      try{
        const proof = await fetch(`${API}/api/authorize`, {
          method:'POST',
          headers:{ 'Content-Type':'application/json', 'Accept':'application/json' },
          body: JSON.stringify({ hash, type:'authorization', meta:{ source:'home-demo' } }),
          mode:'cors', credentials:'omit', cache:'no-store'
        }).then(r=>r.json());
        const check = await fetch(`${API}/api/verify`, {
          method:'POST',
          headers:{ 'Content-Type':'application/json', 'Accept':'application/json' },
          body: JSON.stringify(proof),
          mode:'cors', credentials:'omit', cache:'no-store'
        }).then(r=>r.json());
        return { proof, check };
      }catch{ return null; }
    }
    function renderSummary(target, hash, pack){
      const ok = !!pack?.check?.valid || pack?.check?.ok===true || pack?.check?.result==='valid';
      target.textContent =
`// Demo summary
input: ${hash}
result: ${ok ? 'VALID' : 'INVALID'}
verify: POST /api/verify (bundle)`;
      return ok;
    }
    async function runDemo(){
      const input = $('in-one')?.value || '';
      const out   = $('out-one');
      const sum   = $('one-summary');
      const stat  = $('status-one');
      out.textContent=''; sum.textContent=''; stat.hidden=true;
      if(!input.trim()){ showStatus(stat,false,'Enter text or a 64-hex hash.'); return; }
      const raw=input.trim();
      let hash = raw.toLowerCase().replace(/[^a-f0-9]/g,'');
      if(!/^[a-f0-9]{64}$/.test(hash)){
        try{ hash = await sha256Hex(raw); }
        catch{ showStatus(stat,false,'Hashing failed.'); return; }
      }
      const pack = await demoCheck(hash);
      if(!pack){ showStatus(stat,false,'Network or CORS error'); return; }
      const ok = renderSummary(sum, hash, pack);
      out.textContent = `// Raw JSON\n${escapeHTML(JSON.stringify(pack,null,2))}`;
      showStatus(stat, ok, ok ? 'Valid authorization (demo)' : 'Invalid or not found (demo)');
    }
    $('btn-one')?.addEventListener('click', runDemo);
    $('in-one')?.addEventListener('keydown', (e)=>{ if(e.key==='Enter'){ e.preventDefault(); runDemo(); } });
    $('ex-text')?.addEventListener('click', ()=>{ $('in-one').value = 'ActProofs demo text'; });
    $('ex-hash')?.addEventListener('click', ()=>{ $('in-one').value = '7c040f8633b8823d72ed63da9b3b2dfe9846e912c66a64c9433ec9c4815d76c2'; });
    $('ex-clear')?.addEventListener('click', ()=>{ $('in-one').value=''; $('one-summary').textContent=''; $('out-one').textContent=''; $('status-one').hidden=true; });
  })();

  // aria-current
  (function(){
    const here=new URL(location.href).pathname.replace(/\/index\.html?$/,'/');
    document.querySelectorAll('header nav a, footer .links a').forEach(a=>{
      const path=new URL(a.getAttribute('href'), location.origin).pathname;
      if(path===here) a.setAttribute('aria-current','page');
    });
  })();

})();
</script>

<script nonce="TP-2025">
  if('serviceWorker' in navigator){
    navigator.serviceWorker.register('/sw.js', { type:'module', scope:'/' }).catch(()=>{});
  }
</script>

<div class="toast" role="status" aria-live="polite" aria-atomic="true"></div>
</body>
  </html>
